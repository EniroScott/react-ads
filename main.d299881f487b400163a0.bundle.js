(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{161:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_src__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),Article=function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{height:"100vh"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.a,{lazy:!0,targeting:{test:"infinitescroll"},size:[728,90],sizeMap:[{viewPort:[850,200],slots:[728,90]},{viewPort:[0,0],slots:[]}]})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{height:"200vh"}}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.a,{lazy:!0,targeting:{test:"infinitescroll"},size:[728,90],sizeMap:[{viewPort:[850,200],slots:[728,90]},{viewPort:[0,0],slots:[]}]})))};__webpack_exports__.a=Article,Article.__docgenInfo={description:"",methods:[],displayName:"Article"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/InfiniteScroll/Article.js"]={name:"Article",docgenInfo:Article.__docgenInfo,path:"stories/InfiniteScroll/Article.js"})},162:function(module,exports,__webpack_require__){__webpack_require__(163),__webpack_require__(241),module.exports=__webpack_require__(242)},2:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(91),__webpack_require__(15),__webpack_require__(7),__webpack_require__(6),__webpack_require__(38),__webpack_require__(26),__webpack_require__(1),__webpack_require__(19),__webpack_require__(20),__webpack_require__(31),__webpack_require__(145),__webpack_require__(147),__webpack_require__(13),__webpack_require__(105),__webpack_require__(5),__webpack_require__(9),__webpack_require__(99);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),hide=(__webpack_require__(106),function(Component){return function(props){return props.enableAds?react_default.a.createElement(Component,props):null}}),context=__webpack_require__(40);__webpack_require__(130);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var connector=function(Context,stateToProps){return function(Component){return function(_React$Component){function Connector(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Connector),_possibleConstructorReturn(this,_getPrototypeOf(Connector).apply(this,arguments))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Connector,react_default.a.Component),Constructor=Connector,(protoProps=[{key:"render",value:function(){var _this=this;return react_default.a.createElement(Context.Consumer,null,function(ctxProps){return react_default.a.createElement(Component,_extends({},_this.props,stateToProps(ctxProps,_this.props)))})}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Connector;var Constructor,protoProps,staticProps}()}},utils_withRaf=function(cb){var isTicking=!1;return function(e){isTicking||(isTicking=!0,window.requestAnimationFrame(function(){return cb(e)}),isTicking=!1)}},inView=function(_ref){var windowInnerHeight=_ref.windowInnerHeight,windowPageYOffset=_ref.windowPageYOffset,elementYOffset=_ref.elementYOffset,elementHeight=_ref.elementHeight,offset=_ref.offset;return elementYOffset+elementHeight+offset>=windowPageYOffset&&elementYOffset-offset<=windowPageYOffset+windowInnerHeight},inViewport=function(el){for(var offset=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,top=el.offsetTop;el.offsetParent;)top+=(el=el.offsetParent).offsetTop;return inView({windowInnerHeight:window.innerHeight,windowPageYOffset:window.pageYOffset,elementYOffset:top,elementHeight:el.offsetHeight,offset:offset})},googletag=__webpack_require__(3);function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(0<=excluded.indexOf(key))&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function Ad_typeof(obj){return(Ad_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function Ad_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function Ad_getPrototypeOf(o){return(Ad_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Ad_setPrototypeOf(o,p){return(Ad_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function Ad_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Ad_Ad=function(_Component){function Ad(_props){var _this,self,call;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Ad),self=this,call=Ad_getPrototypeOf(Ad).call(this,_props),_this=!call||"object"!==Ad_typeof(call)&&"function"!=typeof call?Ad_assertThisInitialized(self):call,_defineProperty(Ad_assertThisInitialized(Ad_assertThisInitialized(_this)),"isFunction",function(maybeFn){return"function"==typeof maybeFn}),_defineProperty(Ad_assertThisInitialized(Ad_assertThisInitialized(_this)),"breakPointRefresh",function(){_this.canRefresh&&_this.refresh()}),_defineProperty(Ad_assertThisInitialized(Ad_assertThisInitialized(_this)),"withAdProps",function(props){return _objectSpread({id:_this.id,ref:_this.ref},props)}),_defineProperty(Ad_assertThisInitialized(Ad_assertThisInitialized(_this)),"onSlotOnload",function(){return _this.handleGPTEvent(googletag.m.slotOnload,_this.props.onSlotOnload)}),_defineProperty(Ad_assertThisInitialized(Ad_assertThisInitialized(_this)),"onSlotRenderEnded",function(){return _this.handleGPTEvent(googletag.m.slotRenderEnded,_this.props.onSlotRenderEnded)}),_defineProperty(Ad_assertThisInitialized(Ad_assertThisInitialized(_this)),"onImpressionViewable",function(){return _this.handleGPTEvent(googletag.m.impressionViewable,_this.props.onImpressionViewable)}),_defineProperty(Ad_assertThisInitialized(Ad_assertThisInitialized(_this)),"onSlotVisibilityChanged",function(){return _this.handleGPTEvent(googletag.m.slotVisibilityChanged,_this.props.onSlotVisibilityChanged)}),_defineProperty(Ad_assertThisInitialized(Ad_assertThisInitialized(_this)),"onSlotRequested",function(){return _this.handleGPTEvent(googletag.m.slotRequested,_this.props.onSlotRequested)}),_defineProperty(Ad_assertThisInitialized(Ad_assertThisInitialized(_this)),"handleCustomRefreshEvent",function(_ref){return _ref.detail.id===_this.id?_this.canRefresh?void _this.refresh():void console.log("Ad has to call window.googletag.display before triggering a refresh."):void 0}),_defineProperty(Ad_assertThisInitialized(Ad_assertThisInitialized(_this)),"imperativeRefresh",function(){return _this.canRefresh?void _this.refresh():void console.log("Ad has to call window.googletag.display before triggering a refresh.")}),_this.slot=null,_this.listeners=[],_this.displayed=!1,_this.refreshedOnce=!1,_this.refreshWhenVisible=utils_withRaf(_this.refreshWhenVisible.bind(Ad_assertThisInitialized(Ad_assertThisInitialized(_this)))),_this.refresh=_this.refresh.bind(Ad_assertThisInitialized(Ad_assertThisInitialized(_this))),_this.id=_props.id||_props.generateId(_props.type),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Ad_setPrototypeOf(subClass,superClass)}(Ad,react["Component"]),Constructor=Ad,(protoProps=[{key:"display",value:function(){this.props.gpt.display(this.id),this.displayed=!0}},{key:"refresh",value:function(){this.props.refresh({priority:this.props.priority,data:{bids:this.bidHandler,slot:this.slot}}),this.refreshedOnce=!0}},{key:"refreshWhenVisible",value:function(){this.props.lazy&&this.isVisible&&!this.refreshedOnce&&(this.define(),window.removeEventListener("scroll",this.refreshWhenVisible))}},{key:"setCollapseEmpty",value:function(){this.props.setCollapseEmpty&&this.slot.setCollapseEmptyDiv(!0,!0)}},{key:"setTargeting",value:function(){var _this2=this;Object.entries(this.props.targeting).forEach(function(_ref2){var _ref3=_slicedToArray(_ref2,2),k=_ref3[0],v=_ref3[1];return _this2.slot.setTargeting(k,v)})}},{key:"setMappingSize",value:function(){if(this.props.sizeMap){var mapping=this.props.sizeMap.reduce(function(acc,x){return acc.addSize(x.viewPort,x.slots)},this.props.gpt.sizeMapping());this.slot.defineSizeMapping(mapping.build())}}},{key:"setMQListeners",value:function(){var _this3=this;this.props.sizeMap&&this.props.sizeMap.forEach(function(_ref4){var width=_slicedToArray(_ref4.viewPort,1)[0],mq=window.matchMedia("(max-width: ".concat(width,"px)"));mq.addListener(_this3.breakPointRefresh),_this3.listeners.push(function(){return mq.removeListener(_this3.breakPointRefresh)})})}},{key:"unsetMQListeners",value:function(){this.listeners.forEach(function(fn){return fn()})}},{key:"handleGPTEvent",value:function(event,cb){var _this4=this;this.isFunction(cb)&&this.props.gpt.addEventListener(event,function(e){e.slot==_this4.slot&&cb(_this4.withAdProps(e))})}},{key:"define",value:function(){var _this5=this;this.props.gpt.cmdPush(function(){_this5.slot=_this5.props.gpt.define(_this5.props.outOfPageSlot,_this5.props.adUnitPath,_this5.mapSize,_this5.id),_this5.onSlotOnload(),_this5.onSlotRenderEnded(),_this5.onImpressionViewable(),_this5.onSlotVisibilityChanged(),_this5.onSlotRequested(),_this5.setMappingSize(),_this5.setMQListeners(),_this5.setCollapseEmpty(),_this5.setTargeting(),_this5.display(),_this5.refresh()})}},{key:"componentDidMount",value:function(){this.ref.refresh=this.imperativeRefresh,window.addEventListener("refresh-ad",this.handleCustomRefreshEvent),this.props.lazy?(this.refreshWhenVisible(),window.addEventListener("scroll",this.refreshWhenVisible)):this.define()}},{key:"componentWillUnmount",value:function(){this.unsetMQListeners(),window.removeEventListener("scroll",this.refreshWhenVisible),window.removeEventListener("refresh-ad",this.handleCustomRefreshEvent),this.props.gpt.destroySlots(this.slot)}},{key:"render",value:function(){var _this6=this;return react_default.a.createElement("div",{id:this.id,ref:function(_ref5){return _this6.ref=_ref5},style:_objectSpread({},this.props.style),className:this.props.className,"data-react-ad":!0})}},{key:"canRefresh",get:function(){return this.displayed}},{key:"mapSize",get:function(){var _this7=this;return this.props.sizeMap?this.props.sizeMap.filter(function(_ref6){return _slicedToArray(_ref6.viewPort,1)[0]<=_this7.props.getWindowWidth()}).sort(function(a,b){return a>b}).slice(0,1)[0].slots:this.props.size}},{key:"bidHandler",get:function(){return this.props.bidHandler?this.props.bidHandler({id:this.id,sizes:this.mapSize}):null}},{key:"isVisible",get:function(){return inViewport(this.ref,this.props.lazyOffset)}}])&&Ad_defineProperties(Constructor.prototype,protoProps),staticProps&&Ad_defineProperties(Constructor,staticProps),Ad;var Constructor,protoProps,staticProps}();Ad_Ad.defaultProps={id:"",size:[],style:{},lazy:!1,priority:1,className:"",sizeMap:null,targeting:{},adUnitPath:"",getWindowWidth:googletag.n,lazyOffset:-1,type:"default",bidHandler:null,onSlotOnload:null,outOfPageSlot:!1,networkId:void 0,onSlotRequested:null,onSlotRenderEnded:null,setCollapseEmpty:!1,onImpressionViewable:null,onSlotVisibilityChanged:null,gpt:{define:googletag.e,display:googletag.h,cmdPush:googletag.b,sizeMapping:googletag.s,destroySlots:googletag.f,addEventListener:googletag.a}};var MaybeHiddenAd=hide(Ad_Ad),components_Ad=connector(context.a,function(_ref7,props){var adUnitPath=_ref7.adUnitPath,generateId=_ref7.generateId,lazyOffset=_ref7.lazyOffset,networkId=_ref7.networkId,bidHandler=_ref7.bidHandler,rest=_objectWithoutProperties(_ref7,["adUnitPath","generateId","lazyOffset","networkId","bidHandler"]),_networkId=props.networkId||networkId,results=_objectSpread({adUnitPath:[_networkId,props.adUnitPath||adUnitPath].map(function(x){return function(x){return x?"/".concat(x):x}(x)}).join(""),networkId:_networkId,lazyOffset:props.lazyOffset&&0<=props.lazyOffset?props.lazyOffset:lazyOffset,generateId:generateId},rest);return bidHandler&&props.bidHandler?results.bidHandler=function(x){return props.bidHandler(x,bidHandler(x))}:bidHandler?results.bidHandler=function(x){return bidHandler(x,[])}:props.bidHandler&&(results.bidHandler=function(x){return props.bidHandler(x,[])}),results})(MaybeHiddenAd);Ad_Ad.__docgenInfo={description:"",methods:[{name:"canRefresh",docblock:"Will return a flag that signal if an ad can be refreshed via a CustomEvent\nor via an imperative event.\n@function\n@returns {Boolean}",modifiers:["get"],params:[],returns:{description:null,type:{name:"Boolean"}},description:"Will return a flag that signal if an ad can be refreshed via a CustomEvent\nor via an imperative event."},{name:"mapSize",docblock:"Get the slot map sizes based on the current media query breakpoint.\n@function\n@returns {Array}",modifiers:["get"],params:[],returns:{description:null,type:{name:"Array"}},description:"Get the slot map sizes based on the current media query breakpoint."},{name:"bidHandler",docblock:"Will call the bidHandler function that generates the adUnit code.\n@funtion\n@returns {Function | Null}",modifiers:["get"],params:[],returns:{description:null,type:{name:"union",elements:[{name:"Function"},{name:"Null"}]}},description:"Will call the bidHandler function that generates the adUnit code."},{name:"isVisible",docblock:"Returns true if the slot is visible on the page. This is used for refreshing\nlazy loaded ads.\n@funtion\n@returns {Boolean}",modifiers:["get"],params:[],returns:{description:null,type:{name:"Boolean"}},description:"Returns true if the slot is visible on the page. This is used for refreshing\nlazy loaded ads."},{name:"isFunction",docblock:"Returns true when the parameter is a function.\n@param {Function} maybeFn\n@returns {Boolean}",modifiers:[],params:[{name:"maybeFn",description:null,type:{name:"Function"},optional:!1}],returns:{description:null,type:{name:"Boolean"}},description:"Returns true when the parameter is a function."},{name:"display",docblock:"Will display this slot. With SRA disabled display will not fetch the ad.\n@function\n@returns {void}",modifiers:[],params:[],returns:{description:null,type:{name:"void"}},description:"Will display this slot. With SRA disabled display will not fetch the ad."},{name:"refresh",docblock:"Will refresh this slot using the refresh function passed by the provider.\ncomponent.\n@function   \n@returns {void}",modifiers:[],params:[],returns:{description:null,type:{name:"void"}},description:"Will refresh this slot using the refresh function passed by the provider.\ncomponent."},{name:"breakPointRefresh",docblock:"Will trigger a refresh whenever this slot enters into a new breakpoint.\n@funtion\n@returns {void}",modifiers:[],params:[],returns:{description:null,type:{name:"void"}},description:"Will trigger a refresh whenever this slot enters into a new breakpoint."},{name:"refreshWhenVisible",docblock:"Event listener for lazy loaded ads that triggers the refresh function when\nthe ad becomes visible.\n@function   \n@returns {void}",modifiers:[],params:[],returns:{description:null,type:{name:"void"}},description:"Event listener for lazy loaded ads that triggers the refresh function when\nthe ad becomes visible."},{name:"setCollapseEmpty",docblock:"Will collapse this ad whenever it is empty.\n@function   \n@returns {void}",modifiers:[],params:[],returns:{description:null,type:{name:"void"}},description:"Will collapse this ad whenever it is empty."},{name:"setTargeting",docblock:"Will set the targeting parameters for this ad.\n@function   \n@returns {void}",modifiers:[],params:[],returns:{description:null,type:{name:"void"}},description:"Will set the targeting parameters for this ad."},{name:"setMappingSize",docblock:"Will create the sizeMaps that will show the different ads depending on the\nviewport size.\n@function   \n@returns {void}",modifiers:[],params:[],returns:{description:null,type:{name:"void"}},description:"Will create the sizeMaps that will show the different ads depending on the\nviewport size."},{name:"setMQListeners",docblock:"Will listen to mediaQueries. This is used for hiding/refreshing ads on the \npage.\n@function   \n@returns {void}",modifiers:[],params:[],returns:{description:null,type:{name:"void"}},description:"Will listen to mediaQueries. This is used for hiding/refreshing ads on the \npage."},{name:"unsetMQListeners",docblock:"Will remove the listeners from the page.\n@function   \n@returns {void}",modifiers:[],params:[],returns:{description:null,type:{name:"void"}},description:"Will remove the listeners from the page."},{name:"withAdProps",docblock:"Returns the id and the reference to this slot.\n@function\n@returns {Object}",modifiers:[],params:[{name:"props"}],returns:{description:null,type:{name:"Object"}},description:"Returns the id and the reference to this slot."},{name:"handleGPTEvent",docblock:"Will handle a GPT event for this slot. This method was not auto-binded for \ntesting reasons.\n@param {String} event\n@param {Function} cb\n@returns {void}",modifiers:[],params:[{name:"event",description:null,type:{name:"String"},optional:!1},{name:"cb",description:null,type:{name:"Function"},optional:!1}],returns:{description:null,type:{name:"void"}},description:"Will handle a GPT event for this slot. This method was not auto-binded for \ntesting reasons."},{name:"onSlotOnload",docblock:"Will listen to the onSlotOnload event and then call the passed function.\n@function   \n@returns {void}",modifiers:[],params:[],returns:{description:null,type:{name:"void"}},description:"Will listen to the onSlotOnload event and then call the passed function."},{name:"onSlotRenderEnded",docblock:"Will listen to the onSlotRenderEnded event and then call the passed \nfunction.\n@function   \n@returns {void}",modifiers:[],params:[],returns:{description:null,type:{name:"void"}},description:"Will listen to the onSlotRenderEnded event and then call the passed \nfunction."},{name:"onImpressionViewable",docblock:"Will listen to the onImpressionViewable event and then call the passed \nfunction.\n@function   \n@returns {void}",modifiers:[],params:[],returns:{description:null,type:{name:"void"}},description:"Will listen to the onImpressionViewable event and then call the passed \nfunction."},{name:"onSlotVisibilityChanged",docblock:"Will listen to the onSlotVisibilityChanged event and then call the passed \nfunction.\n@function   \n@returns {void}",modifiers:[],params:[],returns:{description:null,type:{name:"void"}},description:"Will listen to the onSlotVisibilityChanged event and then call the passed \nfunction."},{name:"onSlotRequested",docblock:"Will listen to the onSlotRequested event and then call the passed \nfunction.\n@function   \n@returns {void}",modifiers:[],params:[],returns:{description:null,type:{name:"void"}},description:"Will listen to the onSlotRequested event and then call the passed \nfunction."},{name:"define",docblock:"Will initialize the adSlot.\n@function\n@returns {void}",modifiers:[],params:[],returns:{description:null,type:{name:"void"}},description:"Will initialize the adSlot."},{name:"handleCustomRefreshEvent",docblock:"Will refresh the ad when a CustomEvent is fired.\n@function\n@param {Object} option.detail.id - The id of the ad to refresh.\n@returns {void}",modifiers:[],params:[{name:"{ detail }"}],returns:{description:null,type:{name:"void"}},description:"Will refresh the ad when a CustomEvent is fired."},{name:"imperativeRefresh",docblock:"Will trigger a manual refresh of this ad. The developer can call this via\ndocument.querySelector('#ad-id').refresh();\n@function\n@returns {void}",modifiers:[],params:[],returns:{description:null,type:{name:"void"}},description:"Will trigger a manual refresh of this ad. The developer can call this via\ndocument.querySelector('#ad-id').refresh();"}],displayName:"Ad",props:{id:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},size:{defaultValue:{value:"[]",computed:!1},type:{name:"union",value:[{name:"array"},{name:"string"}]},required:!1,description:""},style:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},lazy:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},priority:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""},className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},sizeMap:{defaultValue:{value:"null",computed:!1},type:{name:"arrayOf",value:{name:"shape",value:{viewPort:{name:"arrayOf",value:{name:"number"},required:!1},slots:{name:"union",value:[{name:"arrayOf",value:{name:"number"}},{name:"arrayOf",value:{name:"arrayOf",value:{name:"number"}}}],required:!1}}}},required:!1,description:""},targeting:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},adUnitPath:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},getWindowWidth:{defaultValue:{value:"getWindowWidth",computed:!0},type:{name:"func"},required:!1,description:""},lazyOffset:{defaultValue:{value:"-1",computed:!1},type:{name:"number"},required:!1,description:""},type:{defaultValue:{value:"'default'",computed:!1},type:{name:"string"},required:!1,description:""},bidHandler:{defaultValue:{value:"null",computed:!1},type:{name:"func"},required:!1,description:""},onSlotOnload:{defaultValue:{value:"null",computed:!1},type:{name:"func"},required:!1,description:""},outOfPageSlot:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},networkId:{defaultValue:{value:"undefined",computed:!0},type:{name:"number"},required:!1,description:""},onSlotRequested:{defaultValue:{value:"null",computed:!1},type:{name:"func"},required:!1,description:""},onSlotRenderEnded:{defaultValue:{value:"null",computed:!1},type:{name:"func"},required:!1,description:""},setCollapseEmpty:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},onImpressionViewable:{defaultValue:{value:"null",computed:!1},type:{name:"func"},required:!1,description:""},onSlotVisibilityChanged:{defaultValue:{value:"null",computed:!1},type:{name:"func"},required:!1,description:""},gpt:{defaultValue:{value:"{\n  define,\n  display,\n  cmdPush,\n  sizeMapping,\n  destroySlots,\n  addEventListener,\n}",computed:!1},type:{name:"shape",value:{define:{name:"func",required:!0},cmdPush:{name:"func",required:!0},display:{name:"func",required:!0},sizeMapping:{name:"func",required:!0},destroySlots:{name:"func",required:!0},addEventListener:{name:"func",required:!0}}},required:!1,description:""},refresh:{type:{name:"func"},required:!1,description:""},generateId:{type:{name:"func"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Ad/index.js"]={name:"Ad",docgenInfo:Ad_Ad.__docgenInfo,path:"src/components/Ad/index.js"});__webpack_require__(51);var Provider=__webpack_require__(73);__webpack_require__(39);function Video_typeof(obj){return(Video_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Video_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){Video_defineProperty(target,key,source[key])})}return target}function Video_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function Video_getPrototypeOf(o){return(Video_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Video_setPrototypeOf(o,p){return(Video_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function Video_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function Video_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Video_VideoPlayer=function(_Component){function VideoPlayer(props){var _this,self,call;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VideoPlayer),self=this,call=Video_getPrototypeOf(VideoPlayer).call(this,props),_this=!call||"object"!==Video_typeof(call)&&"function"!=typeof call?Video_assertThisInitialized(self):call,Video_defineProperty(Video_assertThisInitialized(Video_assertThisInitialized(_this)),"loadPlayer",function(){if(!_this.unmounted){var options=Video_objectSpread({},_this.props.imaProps,{id:_this.props.id,adTagUrl:_this.props.imaProps.adTagUrl||null});_this.player=window.videojs(_this.videoNode,_this.props.videoProps),_this.player.ima(options)}}),Video_defineProperty(Video_assertThisInitialized(Video_assertThisInitialized(_this)),"refresh",function(){var pbjs=window.pbjs||{};pbjs.que=pbjs.que||[],pbjs.que.push(function(){var videoAdUnit=_this.props.bidHandler(_this.props.id,_this.props.playerSize).prebid;pbjs.addAdUnits(videoAdUnit),window.pbjs.requestBids({bidsBackHandler:function(){var adTagUrl=pbjs.adServers.dfp.buildVideoUrl({adUnit:videoAdUnit,params:Video_objectSpread({},_this.props.params)});_this.loadPlayer(adTagUrl)}})})}),_this.unmounted=!1,_this.refreshWhenVisible=_this.refreshWhenVisible.bind(Video_assertThisInitialized(Video_assertThisInitialized(_this))),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Video_setPrototypeOf(subClass,superClass)}(VideoPlayer,react["Component"]),Constructor=VideoPlayer,(protoProps=[{key:"refreshWhenVisible",value:function(){this.props.lazy&&this.isVisible&&(this.props.loadVideoPlayer(this.refresh),window.removeEventListener("scroll",this.refreshWhenVisible))}},{key:"componentDidMount",value:function(){this.props.lazy?(this.refreshWhenVisible(),window.addEventListener("scroll",this.refreshWhenVisible)):this.props.loadVideoPlayer(this.refresh)}},{key:"componentWillUnmount",value:function(){this.unmounted=!0,this.player&&this.player.dispose()}},{key:"render",value:function(){var _this2=this;return react_default.a.createElement("div",{"data-vjs-player":!0},react_default.a.createElement("video",{id:this.props.id,ref:function(node){return _this2.videoNode=node},className:"video-js"}))}},{key:"isVisible",get:function(){return inViewport(this.videoNode,this.props.lazyOffset)}}])&&Video_defineProperties(Constructor.prototype,protoProps),staticProps&&Video_defineProperties(Constructor,staticProps),VideoPlayer;var Constructor,protoProps,staticProps}();Video_VideoPlayer.defaultProps={id:"",params:{},loadVideoPlayer:Promise.reject,imaProps:{adTagUrl:"http://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/ad_rule_samples&ciu_szs=300x250&ad_rule=1&impl=s&gdfp_req=1&env=vp&output=xml_vmap1&unviewed_position_start=1&cust_params=sample_ar%3Dpremidpostpod%26deployment%3Dgmf-js&cmsid=496&vid=short_onecue&correlator="},videoProps:{autoplay:!0,controls:!0,sources:[{src:"http://techslides.com/demos/sample-videos/small.webm",type:"video/webm"},{src:"http://techslides.com/demos/sample-videos/small.ogv",type:"video/ogv"},{src:"http://techslides.com/demos/sample-videos/small.mp4",type:"video/mp4"},{src:"http://techslides.com/demos/sample-videos/small.3gp",type:"video/3gp"}]}};var Video=connector(context.a,function(_ref){return{loadVideoPlayer:_ref.loadVideoPlayer}})(Video_VideoPlayer);Video_VideoPlayer.__docgenInfo={description:"",methods:[{name:"isVisible",docblock:"Returns true if the slot is visible on the page. This is used for refreshing\nlazy loaded ads.\n@funtion\n@returns {Boolean}",modifiers:["get"],params:[],returns:{description:null,type:{name:"Boolean"}},description:"Returns true if the slot is visible on the page. This is used for refreshing\nlazy loaded ads."},{name:"loadPlayer",docblock:null,modifiers:[],params:[{name:"adTagUrl",type:null}],returns:null},{name:"refresh",docblock:null,modifiers:[],params:[],returns:null},{name:"refreshWhenVisible",docblock:"Event listener for lazy loaded ads that triggers the refresh function when\nthe ad becomes visible.\n@function   \n@returns {void}",modifiers:[],params:[],returns:{description:null,type:{name:"void"}},description:"Event listener for lazy loaded ads that triggers the refresh function when\nthe ad becomes visible."}],displayName:"VideoPlayer",props:{id:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},params:{defaultValue:{value:"{}",computed:!1},type:{name:"shape",value:{env:{name:"string",required:!1},gdfp_req:{name:"number",required:!1},unviewed_position_start:{name:"number",required:!1},output:{name:"enum",value:[{value:"'vast'",computed:!1},{value:"'xml_vast3'",computed:!1},{value:"'vmap'",computed:!1},{value:"'xml_vmap1'",computed:!1},{value:"'xml_vast4'",computed:!1}],required:!1},iu:{name:"string",required:!1},sz:{name:"string",required:!1},description_url:{name:"string",required:!1},url:{name:"string",required:!1},correlator:{name:"number",required:!1},ad_rule:{name:"number",required:!1},ciu_szs:{name:"string",required:!1},cmsid:{name:"number",required:!1},vid:{name:"union",value:[{name:"string"},{name:"number"}],required:!1},cust_params:{name:"object",required:!1},hl:{name:"string",required:!1},msid:{name:"string",required:!1},an:{name:"string",required:!1},nofb:{name:"string",required:!1},pp:{name:"string",required:!1},ppid:{name:"number",required:!1},rdid:{name:"string",required:!1},idtype:{name:"string",required:!1},is_lat:{name:"string",required:!1},tfcd:{name:"string",required:!1},npa:{name:"string",required:!1},pod:{name:"number",required:!1},ppos:{name:"number",required:!1},vpos:{name:"enum",value:[{value:"'preroll'",computed:!1},{value:"'midroll'",computed:!1},{value:"'postroll'",computed:!1}],required:!1},mridx:{name:"string",required:!1},lip:{name:"custom",raw:"PropTypes.boolean",required:!1},min_ad_duration:{name:"number",required:!1},max_ad_duration:{name:"number",required:!1},pmnd:{name:"number",required:!1},pmxd:{name:"number",required:!1},pmad:{name:"number",required:!1},vpmute:{name:"string",required:!1},vpa:{name:"string",required:!1},scor:{name:"number",required:!1},vad_type:{name:"enum",value:[{value:"'linear'",computed:!1},{value:"'nonlinear'",computed:!1}],required:!1},excl_cat:{name:"string",required:!1}}},required:!1,description:""},loadVideoPlayer:{defaultValue:{value:"Promise.reject",computed:!0},type:{name:"func"},required:!1,description:""},imaProps:{defaultValue:{value:"{\n  adTagUrl: 'http://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/ad_rule_samples&ciu_szs=300x250&ad_rule=1&impl=s&gdfp_req=1&env=vp&output=xml_vmap1&unviewed_position_start=1&cust_params=sample_ar%3Dpremidpostpod%26deployment%3Dgmf-js&cmsid=496&vid=short_onecue&correlator=',\n}",computed:!1},type:{name:"shape",value:{adTagUrl:{name:"string",required:!1}}},required:!1,description:""},videoProps:{defaultValue:{value:"{\n  autoplay: true,\n  controls: true,\n  sources: [\n    {\n      src: 'http://techslides.com/demos/sample-videos/small.webm',\n      type: 'video/webm'\n    },\n    {\n      src: 'http://techslides.com/demos/sample-videos/small.ogv',\n      type: 'video/ogv'\n    },\n    {\n      src: 'http://techslides.com/demos/sample-videos/small.mp4',\n      type: 'video/mp4'\n    },\n    {\n      src: 'http://techslides.com/demos/sample-videos/small.3gp',\n      type: 'video/3gp'\n    },\n  ],\n}",computed:!1},type:{name:"shape",value:{autoplay:{name:"bool",required:!1},controls:{name:"bool",required:!1},sources:{name:"arrayOf",value:{name:"shape",value:{src:{name:"string",required:!1},type:{name:"string",required:!1}}},required:!1}}},required:!1,description:""},lazy:{type:{name:"bool"},required:!1,description:""},lazyOffset:{type:{name:"number"},required:!1,description:""},bidHandler:{type:{name:"func"},required:!1,description:""},playerSize:{type:{name:"arrayOf",value:{name:"number"}},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Video/index.js"]={name:"VideoPlayer",docgenInfo:Video_VideoPlayer.__docgenInfo,path:"src/components/Video/index.js"});var hoc_withAdRefresh=connector(context.a,function(_ref){return{refreshAdById:_ref.refreshAdById}});__webpack_require__.d(__webpack_exports__,"a",function(){return components_Ad}),__webpack_require__.d(__webpack_exports__,"c",function(){return Video}),__webpack_require__.d(__webpack_exports__,"b",function(){return Provider.a}),__webpack_require__.d(__webpack_exports__,"d",function(){return hoc_withAdRefresh})},242:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(13),__webpack_require__(5),__webpack_require__(9);var _storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(10),req=__webpack_require__(349);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.configure)(function(){req.keys().forEach(function(filename){return req(filename)})},module)}.call(this,__webpack_require__(30)(module))},3:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"m",function(){return events}),__webpack_require__.d(__webpack_exports__,"n",function(){return getWindowWidth}),__webpack_require__.d(__webpack_exports__,"b",function(){return cmdPush}),__webpack_require__.d(__webpack_exports__,"p",function(){return setAdIframeTitle}),__webpack_require__.d(__webpack_exports__,"f",function(){return destroySlots}),__webpack_require__.d(__webpack_exports__,"o",function(){return refresh}),__webpack_require__.d(__webpack_exports__,"e",function(){return define}),__webpack_require__.d(__webpack_exports__,"s",function(){return sizeMapping}),__webpack_require__.d(__webpack_exports__,"a",function(){return addEventListener}),__webpack_require__.d(__webpack_exports__,"d",function(){return createGPTScript}),__webpack_require__.d(__webpack_exports__,"k",function(){return enableSingleRequest}),__webpack_require__.d(__webpack_exports__,"g",function(){return disableInitialLoad}),__webpack_require__.d(__webpack_exports__,"q",function(){return setCentering}),__webpack_require__.d(__webpack_exports__,"i",function(){return enableAsyncRendering}),__webpack_require__.d(__webpack_exports__,"l",function(){return enableVideoAds}),__webpack_require__.d(__webpack_exports__,"c",function(){return collapseEmptyDivs}),__webpack_require__.d(__webpack_exports__,"h",function(){return display}),__webpack_require__.d(__webpack_exports__,"j",function(){return enableServices}),__webpack_require__.d(__webpack_exports__,"r",function(){return setTargeting});__webpack_require__(7),__webpack_require__(6),__webpack_require__(38),__webpack_require__(5),__webpack_require__(13),__webpack_require__(105),__webpack_require__(15);function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var events={slotOnload:"slotOnload",slotRenderEnded:"slotRenderEnded",impressionViewable:"impressionViewable",slotVisibilityChanged:"slotVisibilityChanged",slotRequested:"slotRequested"},getWindowWidth=function(){return window.innerWidth},cmdPush=function(cb){return window.googletag.cmd.push(cb)},setAdIframeTitle=function(title){title&&cmdPush(function(){return window.googletag.setAdIframeTitle(title)})},destroySlots=function(slots){cmdPush(function(){return window.googletag.destroySlots(slots)})},refresh=function(slots){cmdPush(function(){return window.googletag.pubads().refresh(slots)})},define=function(outOfPageSlot,adUnitPath,mapSize,id){return outOfPageSlot?window.googletag.defineOutOfPageSlot(adUnitPath,id).addService(window.googletag.pubads()):window.googletag.defineSlot(adUnitPath,mapSize,id).addService(window.googletag.pubads())},sizeMapping=function(){return window.googletag.sizeMapping()},addEventListener=function(e,cb){return window.googletag.pubads().addEventListener(e,cb)},createGPTScript=function(){if(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],document.getElementById("react-ads-google-tag-script"))console.error("google tag script already exists");else{var script=document.createElement("script");script.id="react-ads-google-tag-script",script.src="https://www.googletagservices.com/tag/js/gpt.js",script.async=!0,document.head.appendChild(script)}},enableSingleRequest=function(enabled){enabled&&cmdPush(function(){window.googletag.pubads().enableSingleRequest()})},disableInitialLoad=function(disabled){disabled&&cmdPush(function(){window.googletag.pubads().disableInitialLoad()})},setCentering=function(){var isCentered=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];cmdPush(function(){window.googletag.pubads().setCentering(isCentered)})},enableAsyncRendering=function(){var isEnabled=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];isEnabled&&cmdPush(function(){window.googletag.pubads().enableAsyncRendering(isEnabled)})},enableVideoAds=function(){!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0]&&cmdPush(function(){window.googletag.pubads().enableVideoAds()})},collapseEmptyDivs=function(){var isEnabled=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];cmdPush(function(){window.googletag.pubads().collapseEmptyDivs(isEnabled)})},display=function(id){cmdPush(function(){window.googletag.display(id)})},enableServices=function(){cmdPush(function(){window.googletag.enableServices()})},setTargeting=function(){var targeting=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};cmdPush(function(){Object.entries(targeting).map(function(_ref){var _ref2=_slicedToArray(_ref,2),k=_ref2[0],v=_ref2[1];return window.googletag.pubads().setTargeting(k,v)})})}},349:function(module,exports,__webpack_require__){var map={"./CustomRefresh/index.stories.js":350,"./EventBased/index.stories.js":356,"./InfiniteScroll/index.stories.js":357,"./InstreamVideo/index.stories.js":358,"./Lazy/index.stories.js":359,"./OutstreamVideo/index.stories.js":360,"./Prebid/index.stories.js":361,"./Readme/index.stories.js":362};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){var id=map[req];if(!(id+1)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return id}webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=349},350:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(38),__webpack_require__(62),__webpack_require__(92),__webpack_require__(94),__webpack_require__(95),__webpack_require__(5),__webpack_require__(7),__webpack_require__(6),__webpack_require__(1),__webpack_require__(19),__webpack_require__(20),__webpack_require__(104),__webpack_require__(15),__webpack_require__(72);var react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_14__),_src__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(2),_storybook_react__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(10);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Story=function(_React$Component){function Story(){var _this;return _classCallCheck(this,Story),(_this=_possibleConstructorReturn(this,_getPrototypeOf(Story).call(this))).state={qty:1,amount:1},_this}return _inherits(Story,react__WEBPACK_IMPORTED_MODULE_14___default.a.Component),_createClass(Story,[{key:"render",value:function(){var _this2=this;return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_15__.b,{refreshDelay:100,adUnitPath:"travel",networkId:6355419},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("p",null,"Create an ad and then click on the refresh ad button."),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("label",null,"Load More"),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("input",{type:"number",value:this.state.amount,onChange:function(e){return _this2.setState({amount:e.target.value})}}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("button",{onClick:function(){return _this2.setState({qty:+_this2.state.qty+ +_this2.state.amount})}},"More Ads")),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(Button,null),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",null,Array(this.state.qty).fill("").map(function(x,i){return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_15__.a,{key:i,lazy:!0,size:[728,90],type:"leaderboard",targeting:{test:"infinitescroll"},sizeMap:[{viewPort:[850,200],slots:[728,90]},{viewPort:[0,0],slots:[]}]})})))}}]),Story}(),UnwrappedComponent=function(_React$Component2){function UnwrappedComponent(){var _this3;return _classCallCheck(this,UnwrappedComponent),(_this3=_possibleConstructorReturn(this,_getPrototypeOf(UnwrappedComponent).call(this))).state={value:"leaderboard_1"},_this3}return _inherits(UnwrappedComponent,react__WEBPACK_IMPORTED_MODULE_14___default.a.Component),_createClass(UnwrappedComponent,[{key:"render",value:function(){var _this4=this;return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("label",null,"Refresh ad"),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("input",{type:"text",value:this.state.value,onChange:function(e){return _this4.setState({value:e.target.value})}}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("button",{onClick:function(){return _this4.props.refreshAdById(_this4.state.value)}},"Refresh")),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("label",null,"Refresh All Ads"),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("button",{onClick:function(){var adIds=_toConsumableArray(document.querySelectorAll("[data-react-ad]")).map(function(x){return x.id});_this4.props.refreshAdById(adIds)}},"Refresh")))}}]),UnwrappedComponent}(),Button=Object(_src__WEBPACK_IMPORTED_MODULE_15__.d)(UnwrappedComponent);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_16__.storiesOf)("withAdRefresh hoc",module).add("CustomRefresh ",function(){return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(Story,null)})}.call(this,__webpack_require__(30)(module))},356:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(7),__webpack_require__(6),__webpack_require__(1),__webpack_require__(19),__webpack_require__(20),__webpack_require__(104),__webpack_require__(15),__webpack_require__(72);var react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__),_src__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2),_storybook_react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(10);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Story=function(_React$Component){function Story(){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Story),(_this=_possibleConstructorReturn(this,_getPrototypeOf(Story).call(this))).state={qty:0,amount:1},_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Story,react__WEBPACK_IMPORTED_MODULE_8___default.a.Component),Constructor=Story,(protoProps=[{key:"render",value:function(){var _this2=this;return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_9__.b,{refreshDelay:100,adUnitPath:"travel",networkId:6355419},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("label",null,"Load More"),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("input",{type:"number",value:this.state.amount,onChange:function(e){return _this2.setState({amount:e.target.value})}}),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("button",{onClick:function(){return _this2.setState({qty:+_this2.state.qty+ +_this2.state.amount})}},"More Ads")),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",null,Array(this.state.qty).fill("").map(function(x,i){return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_9__.a,{key:i,lazy:!0,size:[728,90],type:"leaderboard",targeting:{test:"infinitescroll"},sizeMap:[{viewPort:[850,200],slots:[728,90]},{viewPort:[0,0],slots:[]}]})})))}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Story;var Constructor,protoProps,staticProps}();Object(_storybook_react__WEBPACK_IMPORTED_MODULE_10__.storiesOf)("Event",module).add("Click event",function(){return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(Story,null)})}.call(this,__webpack_require__(30)(module))},357:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(7),__webpack_require__(6),__webpack_require__(1),__webpack_require__(19),__webpack_require__(20),__webpack_require__(104),__webpack_require__(15);var react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),_Article__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(161),_src__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2),_storybook_react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(10);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var Story=function(_React$Component){function Story(){var _this,obj,key,value,self,call;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Story),self=this,call=_getPrototypeOf(Story).call(this),_this=!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call,obj=_assertThisInitialized(_assertThisInitialized(_this)),value=function(){window.googletag.cmd.push(function(){window.innerHeight+window.scrollY>=document.body.offsetHeight&&!_this.unmounted&&_this.setState({articleQty:_this.state.articleQty+1})})},(key="loadMore")in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,_this.state={articleQty:1},_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Story,react__WEBPACK_IMPORTED_MODULE_7___default.a.Component),Constructor=Story,(protoProps=[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.loadMore)}},{key:"componentWillUnmount",value:function(){this.unmounted=!0,window.removeEventListener("scroll",this.loadMore)}},{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_9__.b,{adIframeTitle:"infinite-scroll",refreshDelay:100,enableVideoAds:!1,collapseEmptyDivs:!1,adUnitPath:"travel",networkId:6355419},Array(this.state.articleQty).fill("").map(function(x,i){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Article__WEBPACK_IMPORTED_MODULE_8__.a,{key:i+1})}))}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Story;var Constructor,protoProps,staticProps}();Object(_storybook_react__WEBPACK_IMPORTED_MODULE_10__.storiesOf)("InfiniteScroll",module).add("with text",function(){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(Story,null)})}.call(this,__webpack_require__(30)(module))},358:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(7),__webpack_require__(6),__webpack_require__(1),__webpack_require__(19),__webpack_require__(20);var react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_src__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2),_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(52),_storybook_react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(10),_src_components_Provider__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(73);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Story=function(_React$Component){function Story(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Story),_possibleConstructorReturn(this,_getPrototypeOf(Story).apply(this,arguments))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Story,react__WEBPACK_IMPORTED_MODULE_5___default.a.Component),Constructor=Story,(protoProps=[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_src_components_Provider__WEBPACK_IMPORTED_MODULE_9__.a,{bidProviders:[_utils__WEBPACK_IMPORTED_MODULE_7__.a]},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_6__.c,{id:"video_1",bidHandler:function(_ref){return{prebid:{code:_ref.id,mediaTypes:{video:{context:"instream",playerSize:_ref.playerSize}},bids:[]}}},playerSize:[640,480]}))}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Story;var Constructor,protoProps,staticProps}();Object(_storybook_react__WEBPACK_IMPORTED_MODULE_8__.storiesOf)("Instream Video",module).add("Instream",function(){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(Story,null)})}.call(this,__webpack_require__(30)(module))},359:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(7),__webpack_require__(6),__webpack_require__(1),__webpack_require__(19),__webpack_require__(20);var react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_src__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2),_storybook_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(10);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Story=function(_React$Component){function Story(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Story),_possibleConstructorReturn(this,_getPrototypeOf(Story).apply(this,arguments))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Story,react__WEBPACK_IMPORTED_MODULE_5___default.a.Component),Constructor=Story,(protoProps=[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_6__.b,{adUnitPath:"travel",networkId:6355419},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{style:{height:"250vh"}}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_6__.a,{lazy:!0,lazyOffset:1,size:[728,90],targeting:{test:"infinitescroll"},sizeMap:[{viewPort:[750,200],slots:[728,90]},{viewPort:[0,0],slots:[]}]}))}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Story;var Constructor,protoProps,staticProps}();Object(_storybook_react__WEBPACK_IMPORTED_MODULE_7__.storiesOf)("Lazy",module).add("with text",function(){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(Story,null)})}.call(this,__webpack_require__(30)(module))},360:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(7),__webpack_require__(6),__webpack_require__(1),__webpack_require__(19),__webpack_require__(20);var react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_src__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2),_storybook_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(10),_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(52);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var bidHandler=function(_ref){return{prebid:{code:_ref.id,mediaTypes:{video:{context:"outstream",playerSize:[640,480]}},bids:[{bidder:"appnexus",params:{placementId:13232385,video:{skippable:!0,playback_method:["auto_play_sound_off"]}}}]}}},Story=function(_React$Component){function Story(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Story),_possibleConstructorReturn(this,_getPrototypeOf(Story).apply(this,arguments))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Story,react__WEBPACK_IMPORTED_MODULE_5___default.a.Component),Constructor=Story,(protoProps=[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_6__.b,{bidProviders:[_utils__WEBPACK_IMPORTED_MODULE_8__.a],bidHandler:bidHandler,enableVideoAds:!0,chunkSize:5,adUnitPath:"prebid_outstream_adunit_1",networkId:19968336},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h2",null,"Outstream Video"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_6__.a,{id:"video1",type:"video",sizeMap:[{viewPort:[0,0],slots:[[1,1]]}]}))}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Story;var Constructor,protoProps,staticProps}();Object(_storybook_react__WEBPACK_IMPORTED_MODULE_7__.storiesOf)("Outstream Video",module).add("Outstream",function(){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(Story,null)})}.call(this,__webpack_require__(30)(module))},361:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(7),__webpack_require__(6),__webpack_require__(1),__webpack_require__(19),__webpack_require__(20);var react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_src__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2),_storybook_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(10),_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(52);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var bidHandler=function(_ref){return{prebid:{code:_ref.id,mediaTypes:{banner:{sizes:_ref.sizes}},bids:[{bidder:"appnexus",params:{placementId:13144370}}]}}},Story=function(_React$Component){function Story(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Story),_possibleConstructorReturn(this,_getPrototypeOf(Story).apply(this,arguments))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Story,react__WEBPACK_IMPORTED_MODULE_5___default.a.Component),Constructor=Story,(protoProps=[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_6__.b,{bidProviders:[_utils__WEBPACK_IMPORTED_MODULE_8__.a],bidHandler:bidHandler,chunkSize:5,adUnitPath:"header-bid-tag-0",networkId:19968336},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_6__.a,{lazy:!0,type:"lazy",adUnitPath:"header-bid-tag-0",size:[300,250],sizeMap:[{viewPort:[0,0],slots:[300,250]}]}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_6__.a,{adUnitPath:"header-bid-tag-1",lazy:!0,type:"lazy",size:[728,90],sizeMap:[{viewPort:[0,0],slots:[[728,90],[70,250]]}]}))}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Story;var Constructor,protoProps,staticProps}();Object(_storybook_react__WEBPACK_IMPORTED_MODULE_7__.storiesOf)("Readme",module).add("example",function(){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(Story,null)})}.call(this,__webpack_require__(30)(module))},362:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(7),__webpack_require__(6),__webpack_require__(1),__webpack_require__(19),__webpack_require__(20),__webpack_require__(5),__webpack_require__(9),__webpack_require__(15),__webpack_require__(39);var react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__),_src__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2),_storybook_react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(10);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var prebid=new(__webpack_require__(51).a)("prebid");prebid.init=function(){if(!prebid.isReady){var pbjs=window.pbjs||{};return pbjs.que=pbjs.que||[],new Promise(function(resolve,reject){var el=document.createElement("script");el.src="https://acdn.adnxs.com/prebid/not-for-prod/1/prebid.js?".concat(Math.random(1,10)),el.async=!0,el.onload=resolve,el.onerror=reject,document.head.appendChild(el)})}},prebid.onBidWon=function(){},prebid.onTimeout=function(){},prebid.fetchBids=function(adUnits){return new Promise(function(resolve){var pbjs=window.pbjs||{};pbjs.que.push(function(){var adUnitCodes=adUnits.map(function(x){return x.code});pbjs.addAdUnits(adUnits),pbjs.requestBids({adUnitCodes:adUnitCodes,timeout:prebid.timeout,bidsBackHandler:function(response){resolve({response:response,bids:pbjs.getBidResponses(),adUnitCodes:adUnitCodes}),adUnitCodes.forEach(function(adUnitCode){return window.pbjs.removeAdUnit(adUnitCode)})}})})})},prebid.handleResponse=function(_ref){var adUnitCodes=_ref.adUnitCodes,pbjs=window.pbjs||{};(window.googletag||{}).cmd.push(function(){pbjs.que.push(function(){pbjs.setTargetingForGPTAsync(adUnitCodes)})})};var bidHandler=function(_ref2){return{prebid:{code:_ref2.id,mediaTypes:{banner:{sizes:_ref2.sizes}},bids:[{bidder:"appnexus",params:{placementId:13144370}}]}}},Story=function(_React$Component){function Story(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Story),_possibleConstructorReturn(this,_getPrototypeOf(Story).apply(this,arguments))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Story,react__WEBPACK_IMPORTED_MODULE_9___default.a.Component),Constructor=Story,(protoProps=[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.b,{chunkSize:5,enableAds:!0,lazyOffset:800,initTimeout:400,bidTimeout:1200,setCentering:!0,networkId:19968336,bidProviders:[prebid],adUnitPath:"header-bid-tag-0"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.a,{lazy:!0,size:[300,250],bidHandler:bidHandler,adUnitPath:"header-bid-tag-0",sizeMap:[{viewPort:[0,0],slots:[300,250]}]}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.a,{lazy:!0,size:[728,90],bidHandler:bidHandler,adUnitPath:"header-bid-tag-1",sizeMap:[{viewPort:[0,0],slots:[[728,90],[70,250]]}]}))}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Story;var Constructor,protoProps,staticProps}();Object(_storybook_react__WEBPACK_IMPORTED_MODULE_11__.storiesOf)("Prebid",module).add("with text",function(){return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(Story,null)})}.call(this,__webpack_require__(30)(module))},40:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AdsContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),AdsContext=react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext({});react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext({})},51:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(1),__webpack_require__(107),__webpack_require__(39),__webpack_require__(47);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}__webpack_exports__.a=function Bidder(name){var _this=this;if(function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Bidder),_defineProperty(this,"_interfaceError",function(fnName){throw Error("".concat(fnName," is not implemented on ").concat(_this.name," Bidder."))}),_defineProperty(this,"_init",function(){var p=_this.init();return p&&p.then?p.then(function(){return _this.isReady=!0,"".concat(_this.name," resolved")}).catch(function(){return _this.isReady=!1,"".concat(_this.name," rejected")}):(_this.isReady=!0,Promise.resolve("".concat(_this.name," resolved")))}),_defineProperty(this,"init",function(){_this._interfaceError("init")}),_defineProperty(this,"handleResponse",function(){_this._interfaceError("handleResponse")}),_defineProperty(this,"onTimeout",function(){_this._interfaceError("onTimeout")}),_defineProperty(this,"onBidWon",function(){_this._interfaceError("onBidWon")}),_defineProperty(this,"_fetchBids",function(){for(var _len=arguments.length,props=Array(_len),_key=0;_key<_len;_key++)props[_key]=arguments[_key];return new Promise(function(resolve,reject){if(!_this.isReady)return console.log("".concat(_this.name," Bidder is not ready")),reject("Bidder is not ready.");var id=setTimeout(function(){reject("Timed Out")},_this.safeTimeout);return _this.fetchBids.apply(_this,props).then(resolve).catch(reject).finally(function(){clearTimeout(id)})})}),_defineProperty(this,"fetchBids",function(){_this._interfaceError("fetchBids")}),!name)throw Error("Bidder expects a name to be passed.");this.name=name,this.isReady=!1,this.timeout=1e3,this.safeTimeout=3e3}},52:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(5),__webpack_require__(9),__webpack_require__(15),__webpack_require__(39);var bidder=new(__webpack_require__(51).a)("prebid");bidder.init=function(){if(!bidder.isReady){var pbjs=window.pbjs||{};return pbjs.que=pbjs.que||[],new Promise(function(resolve,reject){var el=document.createElement("script");el.src="https://acdn.adnxs.com/prebid/not-for-prod/1/prebid.js?".concat(Math.random(1,10)),el.async=!0,el.onload=resolve,el.onerror=reject,document.head.appendChild(el)})}},bidder.onBidWon=function(){},bidder.onTimeout=function(){},bidder.fetchBids=function(adUnits){return new Promise(function(resolve){var pbjs=window.pbjs||{};pbjs.que.push(function(){var adUnitCodes=adUnits.map(function(x){return x.code});pbjs.addAdUnits(adUnits),pbjs.requestBids({adUnitCodes:adUnitCodes,timeout:bidder.timeout,bidsBackHandler:function(response){resolve({response:response,bids:pbjs.getBidResponses(),adUnitCodes:adUnitCodes}),adUnitCodes.forEach(function(adUnitCode){return window.pbjs.removeAdUnit(adUnitCode)})}})})})},bidder.handleResponse=function(_ref){var adUnitCodes=_ref.adUnitCodes,pbjs=window.pbjs||{};(window.googletag||{}).cmd.push(function(){pbjs.que.push(function(){pbjs.setTargetingForGPTAsync(adUnitCodes)})})},__webpack_exports__.a=bidder},73:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(7),__webpack_require__(6),__webpack_require__(1),__webpack_require__(19),__webpack_require__(20),__webpack_require__(5),__webpack_require__(9),__webpack_require__(39),__webpack_require__(15),__webpack_require__(107);var react=__webpack_require__(0),react_default=__webpack_require__.n(react);__webpack_require__(106),__webpack_require__(91),__webpack_require__(47);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Pubsub=function PubSub(){var _this=this;(function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")})(this,PubSub),_defineProperty(this,"emit",function(name){for(var _len=arguments.length,props=Array(1<_len?_len-1:0),_key=1;_key<_len;_key++)props[_key-1]=arguments[_key];_this.events[name]&&_this.events[name].forEach(function(fn){return fn.apply(void 0,props)})}),_defineProperty(this,"on",function(name,handler){_this.events[name]||(_this.events[name]=[]),_this.events[name].push(handler)}),_defineProperty(this,"off",function(name,handler){_this.events[name]&&_this.events[name].splice(_this.events[name].indexOf(handler))}),_defineProperty(this,"clear",function(){_this.events={}}),this.events={}},context=__webpack_require__(40);__webpack_require__(38),__webpack_require__(26),__webpack_require__(355),__webpack_require__(13),__webpack_require__(105),__webpack_require__(72);function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function Heap_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var lib_Heap=function(){function Heap(){var compareFn=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(a,b){return a>b};(function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")})(this,Heap),Heap_defineProperty(this,"swap",function(arr,a,b){var temp=arr[a];return arr[a]=arr[b],arr[b]=temp,arr}),Heap_defineProperty(this,"getLeftIndex",function(index){return 2*index+1}),Heap_defineProperty(this,"getRightIndex",function(index){return 2*index+2}),Heap_defineProperty(this,"getParentIndex",function(index){return 0===index?void 0:Math.floor((index-1)/2)}),this.heap=[],this.compareFn=compareFn}return Constructor=Heap,(protoProps=[{key:"insert",value:function(val){if(null===val)return!1;var index=this.heap.length;return this.heap.push(val),this.siftUp(index),this}},{key:"siftUp",value:function(index){for(var parentIndex=this.getParentIndex(index);0<index&&this.compareFn(this.heap[parentIndex],this.heap[index]);)this.swap(this.heap,parentIndex,index),index=parentIndex,parentIndex=this.getParentIndex(index)}},{key:"siftDown",value:function(index){var element=index,left=this.getLeftIndex(index),right=this.getRightIndex(index),size=this.size;left<size&&this.compareFn(this.heap[element],this.heap[left])&&(element=left),right<size&&this.compareFn(this.heap[element],this.heap[right])&&(element=right),index!==element&&(this.swap(this.heap,index,element),this.siftDown(element))}},{key:"extract",value:function(){if(!this.isEmpty){if(1===this.size)return this.heap.shift();var removedVal=this.heap[0];return this.heap[0]=this.heap.pop(),this.siftDown(0),removedVal}}},{key:"size",get:function(){return this.heap.length}},{key:"isEmpty",get:function(){return 0===this.heap.length}},{key:"min",get:function(){return this.isEmpty?void 0:this.heap[0]}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Heap;var Constructor,protoProps,staticProps}();function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var minHeapCompareFn=function(a,b){return a>b},lib_MinHeap=function(_Heap){function MinHeap(compareFn){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MinHeap),_possibleConstructorReturn(this,_getPrototypeOf(MinHeap).call(this,compareFn||minHeapCompareFn))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(MinHeap,lib_Heap),MinHeap}();function Queue_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function Queue_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var lib_Queue=function(){function Queue(){var _this=this;(function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")})(this,Queue),Queue_defineProperty(this,"enqueue",function(){var items=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return[].concat(items).forEach(function(item){_this.items[_this.count]=item,_this.count++}),_this}),Queue_defineProperty(this,"dequeue",function(){if(!_this.isEmpty){var item=_this.items[_this.lowestCount];return delete _this.items[_this.lowestCount],_this.lowestCount++,item}}),Queue_defineProperty(this,"clear",function(){_this.items={},_this.lowestCount=0,_this.count=0}),Queue_defineProperty(this,"peek",function(){return _this.isEmpty?void 0:_this.items[_this.lowestCount]}),Queue_defineProperty(this,"toString",function(){return _this.isEmpty?"":Object.keys(_this.items).map(function(x){return _this.items[x]}).join(", ")}),this.items={},this.count=0,this.lowestCount=0}return Constructor=Queue,(protoProps=[{key:"size",get:function(){return this.count-this.lowestCount}},{key:"isEmpty",get:function(){return 0===this.size}}])&&Queue_defineProperties(Constructor.prototype,protoProps),staticProps&&Queue_defineProperties(Constructor,staticProps),Queue;var Constructor,protoProps,staticProps}(),lodash_debounce=__webpack_require__(160),lodash_debounce_default=__webpack_require__.n(lodash_debounce);function JobQueue_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var lib_JobQueue=function JobQueue(props){var _this=this;(function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")})(this,JobQueue),JobQueue_defineProperty(this,"on",function(evt,cb){return _this.pubsub.on(evt,cb)}),JobQueue_defineProperty(this,"off",function(evt,cb){return _this.pubsub.off(evt,cb)}),JobQueue_defineProperty(this,"start",function(){_this.canProcess=!0,_this.isProcessing=!0,_this.work()}),JobQueue_defineProperty(this,"stop",function(){return _this.canProcess=!1}),JobQueue_defineProperty(this,"work",function(){_this.process(_this.q).then(function(){return!_this.heap.isEmpty&&_this.canProcess?_this.work():void(_this.isProcessing=!1)})}),JobQueue_defineProperty(this,"add",function(){var message=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return message.priority&&message.data?(_this.heap.insert({priority:message.priority||1,data:message.data}),_this.isProcessing||!_this.canProcess?_this:(_this.debouncedWork(),_this)):(console.log("invalid job"),_this)}),JobQueue_defineProperty(this,"grab",function(){for(var count=0,items=new lib_Queue;!_this.heap.isEmpty&&count<_this.chunkSize;)items.enqueue(_this.heap.extract()),count++;return items}),JobQueue_defineProperty(this,"process",function(){return new Promise(function(resolve){_this.isProcessing=!0,_this.emit.jobStart();var q=_this.grab();return _this.processFn(q,function(){resolve(),_this.emit.jobEnd()})})}),this.heap=new lib_MinHeap(function(a,b){return a.priority>b.priority}),this.pubsub=new Pubsub,this.delay=props.delay||0,this.isProcessing=!1,this.chunkSize=props.chunkSize||5,this.processFn=props.processFn||function(_,done){done()},this.canProcess=!(!1===props.canProcess||(props.canProcess,0)),this.debouncedWork=lodash_debounce_default()(this.work,+this.delay),this.emit={jobStart:function(){return _this.pubsub.emit("jobStart")},jobEnd:function(){return _this.pubsub.emit("jobEnd")}}},timedPromise_status_rejected=(__webpack_require__(62),"rejected"),timedPromise_status_fulfilled="fulfilled",resolved=function(data){return{data:data,status:timedPromise_status_fulfilled}},rejected=function(err){return{err:err,status:timedPromise_status_rejected}},utils_timedPromise=function(promises){var ms=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e3;return Promise.all([].concat(promises).map(function(promise){var timeout=new Promise(function(_,reject){var id=setTimeout(function(){clearTimeout(id),reject("Timed out in "+ms+"ms.")},ms)});return Promise.race([promise,timeout]).then(resolved,rejected)}))};function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var processFn=function(bidProviders,bidTimeout,refresh){var timedPromise=3<arguments.length&&void 0!==arguments[3]?arguments[3]:utils_timedPromise;return function(q,done){for(var slots=[],nextBids={};!q.isEmpty;){var _q$dequeue$data=q.dequeue().data,slot=_q$dequeue$data.slot,bids=_q$dequeue$data.bids;slots.push(slot),bids&&Object.entries(bids).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],val=_ref2[1];nextBids[key]||(nextBids[key]=[]),nextBids[key].push(val)})}return[bidProviders,Object.keys(nextBids)].some(function(x){return 0===x.length})?(refresh(slots),done()):void timedPromise(bidProviders.map(function(bidder){return bidder._fetchBids(nextBids[bidder.name])}),bidTimeout).then(function(responses){responses.forEach(function(res,i){res.status===timedPromise_status_fulfilled&&(bidProviders[i].onBidWon(),bidProviders[i].handleResponse(res.data)),res.status===timedPromise_status_rejected&&bidProviders[i].onTimeout()})}).catch(function(err){return console.log("error",err)}).finally(function(){refresh(slots),done()})}},utils_bidManager=function(){var props=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},refresh=props.refresh,_props$chunkSize=props.chunkSize,chunkSize=void 0===_props$chunkSize?5:_props$chunkSize,_props$bidProviders=props.bidProviders,bidProviders=void 0===_props$bidProviders?[]:_props$bidProviders,_props$bidTimeout=props.bidTimeout,bidTimeout=void 0===_props$bidTimeout?1e3:_props$bidTimeout,_props$refreshDelay=props.refreshDelay,refreshDelay=void 0===_props$refreshDelay?100:_props$refreshDelay,_props$onBiddersReady=props.onBiddersReady,onBiddersReady=void 0===_props$onBiddersReady?function(){}:_props$onBiddersReady,refreshJob=new lib_JobQueue({delay:refreshDelay,chunkSize:chunkSize,processFn:processFn(bidProviders,bidTimeout,refresh),canProcess:!1});return onBiddersReady(refreshJob.start),{refresh:refreshJob.add}},googletag=__webpack_require__(3);function Provider_typeof(obj){return(Provider_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Provider_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function Provider_possibleConstructorReturn(self,call){return!call||"object"!==Provider_typeof(call)&&"function"!=typeof call?Provider_assertThisInitialized(self):call}function Provider_getPrototypeOf(o){return(Provider_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Provider_setPrototypeOf(o,p){return(Provider_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function Provider_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function Provider_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var STARTED="STARTED",SUCCESS="SUCCESS",FAIL="FAIL",Provider_Provider=function(_Component){function Provider(_props){var _this;(function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")})(this,Provider),Provider_defineProperty(Provider_assertThisInitialized(Provider_assertThisInitialized(_this=Provider_possibleConstructorReturn(this,Provider_getPrototypeOf(Provider).call(this,_props)))),"initGPT",function(){var props=Provider_assertThisInitialized(Provider_assertThisInitialized(_this)).props,gpt=props.gpt;gpt.createGPTScript(),gpt.setCentering(props.setCentering),gpt.setAdIframeTitle(props.adIframeTitle),gpt.enableVideoAds(props.enableVideoAds),gpt.collapseEmptyDivs(props.collapseEmptyDivs),gpt.enableAsyncRendering(!0),gpt.enableSingleRequest(!0),gpt.disableInitialLoad(!0),gpt.setTargeting(props.targeting),gpt.enableServices(),gpt.destroySlots()}),Provider_defineProperty(Provider_assertThisInitialized(Provider_assertThisInitialized(_this)),"initBidders",function(){_this.props.bidProviders.length?utils_timedPromise(_this.props.bidProviders.map(function(bidder){return bidder._init()}),_this.props.initTimeout).catch(function(err){return console.log("Error initializing bidders",err)}).finally(function(){return _this.pubsub.emit("bidders-ready",!0)}):_this.pubsub.emit("bidders-ready",!0)}),Provider_defineProperty(Provider_assertThisInitialized(Provider_assertThisInitialized(_this)),"loadVideoScripts",function(scripts){var postFix=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"postfix";return new Promise(function(resolve,reject){var timeout=setTimeout(reject,4e3),remaining=scripts.length,onLoad=function(){0>=--remaining&&(clearTimeout(timeout),resolve())},fragment=document.createDocumentFragment();scripts.forEach(function(src,index){var id="instream-js-".concat(index+postFix);if(document.getElementById(id))return onLoad();var el=document.createElement("script");el.src=src,el.id=id,el.async=!0,el.defer=!0,el.onload=onLoad,el.onerror=onLoad,fragment.appendChild(el)}),document.head.appendChild(fragment)})}),Provider_defineProperty(Provider_assertThisInitialized(Provider_assertThisInitialized(_this)),"loadVideoCss",function(){return new Promise(function(resolve,reject){var timeout=setTimeout(reject,4e3),stylesheets=["https://cdnjs.cloudflare.com/ajax/libs/video.js/7.5.0/video-js.min.css","https://cdnjs.cloudflare.com/ajax/libs/videojs-contrib-ads/6.6.1/videojs-contrib-ads.min.css","https://cdnjs.cloudflare.com/ajax/libs/videojs-ima/1.5.2/videojs.ima.min.css"],remaining=stylesheets.length,onLoad=function(){0>=--remaining&&(clearTimeout(timeout),resolve())},fragment=document.createDocumentFragment();stylesheets.forEach(function(href,index){var id="instream-css-".concat(index);if(document.getElementById(id))return onLoad();var el=document.createElement("link");el.href=href,el.id=id,el.rel="stylesheet",el.onload=onLoad,el.onerror=onLoad,fragment.appendChild(el)}),document.head.appendChild(fragment)})}),Provider_defineProperty(Provider_assertThisInitialized(Provider_assertThisInitialized(_this)),"loadVideoPlayer",function(cb){if(_this.videoStatus!==FAIL)return _this.videoStatus===STARTED?_this.videoQue.push(cb):_this.videoStatus===SUCCESS?cb():(""===_this.videoStatus&&(_this.videoQue.push(cb),_this.videoStatus=STARTED),_this.loadVideoScripts(["https://cdnjs.cloudflare.com/ajax/libs/video.js/7.5.0/video.min.js"],"-1").then(function(){return _this.loadVideoScripts(["//imasdk.googleapis.com/js/sdkloader/ima3.js","https://cdnjs.cloudflare.com/ajax/libs/videojs-contrib-ads/6.6.1/videojs-contrib-ads.min.js","https://cdnjs.cloudflare.com/ajax/libs/videojs-ima/1.5.2/videojs.ima.min.js"])},"-2").then(function(){return _this.loadVideoCss()}).then(function(){_this.videoStatus=SUCCESS,_this.videoQue.forEach(function(fn){return fn()})}).catch(function(){_this.videoStatus=FAIL}))}),Provider_defineProperty(Provider_assertThisInitialized(Provider_assertThisInitialized(_this)),"generateId",function(){var type=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"ad";return _this.slotCount[type],isNaN(_this.slotCount[type])?_this.slotCount[type]=1:++_this.slotCount[type],"".concat(type).concat(_this.props.divider).concat(_this.slotCount[type])}),Provider_defineProperty(Provider_assertThisInitialized(Provider_assertThisInitialized(_this)),"refreshAdById",function(ids){[].concat(ids).forEach(function(id){window.dispatchEvent(new CustomEvent("refresh-ad",{detail:{id:id}}))})});var _gpt=_props.gpt;return _props.enableAds?(_this.pubsub=_props.pubsub,_this.slotCount={},_this.initGPT(),_this.bidManager=utils_bidManager({refresh:_gpt.refresh,chunkSize:_props.chunkSize,bidTimeout:_props.bidTimeout,bidProviders:_props.bidProviders,refreshDelay:_props.refreshDelay,onBiddersReady:function(fn){return _this.pubsub.on("bidders-ready",fn)}}),_this.initBidders(),_this.videoStatus="",_this.videoQue=[],_this):Provider_possibleConstructorReturn(_this)}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Provider_setPrototypeOf(subClass,superClass)}(Provider,react["Component"]),Constructor=Provider,(protoProps=[{key:"componentWillUnmount",value:function(){this.props.enableAds&&this.pubsub.clear()}},{key:"render",value:function(){return react_default.a.createElement(context.a.Provider,{value:{generateId:this.generateId,enableAds:this.props.enableAds,networkId:this.props.networkId,refresh:this.bidManager.refresh,adUnitPath:this.props.adUnitPath,bidHandler:this.props.bidHandler,lazyOffset:this.props.lazyOffset,refreshAdById:this.refreshAdById,loadVideoPlayer:this.loadVideoPlayer}},this.props.children)}}])&&Provider_defineProperties(Constructor.prototype,protoProps),staticProps&&Provider_defineProperties(Constructor,staticProps),Provider;var Constructor,protoProps,staticProps}();Provider_Provider.defaultProps={divider:"_",networkId:0,chunkSize:5,targeting:{},enableAds:!0,lazyOffset:800,bidProviders:[],bidTimeout:1e3,initTimeout:350,refreshDelay:200,adIframeTitle:"",setCentering:!0,pubsub:new Pubsub,bidHandler:void 0,enableVideoAds:!1,collapseEmptyDivs:!1,gpt:{refresh:googletag.o,setCentering:googletag.q,setTargeting:googletag.r,destroySlots:googletag.f,enableServices:googletag.j,enableVideoAds:googletag.l,createGPTScript:googletag.d,setAdIframeTitle:googletag.p,collapseEmptyDivs:googletag.c,disableInitialLoad:googletag.g,enableSingleRequest:googletag.k,enableAsyncRendering:googletag.i}};__webpack_exports__.a=Provider_Provider;Provider_Provider.__docgenInfo={description:"",methods:[{name:"initGPT",docblock:"Initializes GPT.\n@function\n@returns {void}",modifiers:[],params:[],returns:{description:null,type:{name:"void"}},description:"Initializes GPT."},{name:"initBidders",docblock:"It calls the bidProvider's init fns and when the bidders are ready it lets \nthe bidManager know that it can start bidding.\n@function\n@returns {void}",modifiers:[],params:[],returns:{description:null,type:{name:"void"}},description:"It calls the bidProvider's init fns and when the bidders are ready it lets \nthe bidManager know that it can start bidding."},{name:"loadVideoScripts",docblock:null,modifiers:[],params:[{name:"scripts",type:null},{name:"postFix",type:null}],returns:null},{name:"loadVideoCss",docblock:null,modifiers:[],params:[],returns:null},{name:"loadVideoPlayer",docblock:null,modifiers:[],params:[{name:"cb",type:null}],returns:null},{name:"generateId",docblock:"Will generate the id for the adSlot.\n@param {String} type\n@returns {String}",modifiers:[],params:[{name:"type",description:null,type:{name:"String"},optional:!1}],returns:{description:null,type:{name:"String"}},description:"Will generate the id for the adSlot."},{name:"refreshAdById",docblock:"Will fire the custom refresh-ad event, when fired.   \n@param {String|String[]} ids - An Array of ids'\n@function\n@returns {void}",modifiers:[],params:[{name:"ids",description:"An Array of ids'",type:{name:"union",elements:[{name:"String"},{name:"Array",elements:[{name:"String"}]}]},optional:!1}],returns:{description:null,type:{name:"void"}},description:"Will fire the custom refresh-ad event, when fired."}],displayName:"Provider",props:{divider:{defaultValue:{value:"'_'",computed:!1},type:{name:"string"},required:!1,description:""},networkId:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},chunkSize:{defaultValue:{value:"5",computed:!1},type:{name:"number"},required:!1,description:""},targeting:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},enableAds:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},lazyOffset:{defaultValue:{value:"800",computed:!1},type:{name:"number"},required:!1,description:""},bidProviders:{defaultValue:{value:"[]",computed:!1},type:{name:"array"},required:!1,description:""},bidTimeout:{defaultValue:{value:"1000",computed:!1},type:{name:"number"},required:!1,description:""},initTimeout:{defaultValue:{value:"350",computed:!1},type:{name:"number"},required:!1,description:""},refreshDelay:{defaultValue:{value:"200",computed:!1},type:{name:"number"},required:!1,description:""},adIframeTitle:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},setCentering:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},pubsub:{defaultValue:{value:"new PubSub()",computed:!1},type:{name:"instanceOf",value:"PubSub"},required:!1,description:""},bidHandler:{defaultValue:{value:"undefined",computed:!0},type:{name:"func"},required:!1,description:""},enableVideoAds:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},collapseEmptyDivs:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},gpt:{defaultValue:{value:"{\n  refresh,\n  setCentering,\n  setTargeting,\n  destroySlots,\n  enableServices,\n  enableVideoAds,\n  createGPTScript,\n  setAdIframeTitle,\n  collapseEmptyDivs,\n  disableInitialLoad,\n  enableSingleRequest,\n  enableAsyncRendering,\n}",computed:!1},type:{name:"shape",value:{refresh:{name:"func",required:!0},destroySlots:{name:"func",required:!0},setCentering:{name:"func",required:!0},setTargeting:{name:"func",required:!0},enableServices:{name:"func",required:!0},createGPTScript:{name:"func",required:!0},setAdIframeTitle:{name:"func",required:!0},collapseEmptyDivs:{name:"func",required:!0},disableInitialLoad:{name:"func",required:!0},enableSingleRequest:{name:"func",required:!0},enableAsyncRendering:{name:"func",required:!0}}},required:!1,description:""},adUnitPath:{type:{name:"string"},required:!1,description:""},children:{type:{name:"union",value:[{name:"node"},{name:"arrayOf",value:{name:"node"}}]},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Provider/index.js"]={name:"Provider",docgenInfo:Provider_Provider.__docgenInfo,path:"src/components/Provider/index.js"})}},[[162,1,2]]]);
//# sourceMappingURL=main.d299881f487b400163a0.bundle.js.map