"use strict";var _=_interopRequireDefault(require("../"));Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var bidder=new _.default("prebid");bidder.init=function(){if(!bidder.isReady){var a=window.pbjs||{};return a.que=a.que||[],new Promise(function(a,b){var c=document.createElement("script");c.src="https://acdn.adnxs.com/prebid/not-for-prod/1/prebid.js",c.async=!0,c.onload=a,c.onerror=b,document.head.appendChild(c)})}},bidder.onBidWon=function(){},bidder.onTimeout=function(){},bidder.onVideoBidTimeout=function(){},bidder.fetchDisplayBids=function(a){return new Promise(function(b){var c=window.pbjs||{};c.que.push(function(){var d=a.map(function(a){return a.code});d.forEach(function(a){return window.pbjs.removeAdUnit(a)}),c.addAdUnits(a),c.requestBids({adUnitCodes:d,timeout:bidder.timeout,bidsBackHandler:function e(a){b({response:a,bids:c.getBidResponses(),adUnitCodes:d})}})})})},bidder.handleResponse=function(a){var b=a.adUnitCodes,c=window.pbjs||{},d=window.googletag||{};d.cmd.push(function(){c.que.push(function(){c.setTargetingForGPTAsync(b)})})},bidder.fetchVideoBids=function(a,b){return new Promise(function(c){var d=window.pbjs||{};d.que=d.que||[],d.que.push(function(){console.log("fetching video ads"),window.pbjs.removeAdUnit(a.code),d.addAdUnits(a),d.requestBids({adUnitCodes:[a.code],timeout:bidder.timeout,bidsBackHandler:function f(e){console.log("video bids",e),c({adTagUrl:d.adServers.dfp.buildVideoUrl({adUnit:a,params:b})})}})})})},bidder.handleVideoResponse=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},b=a.adTagUrl,c=1<arguments.length?arguments[1]:void 0;console.log("tagUrl",b),c(b)};var _default=bidder;exports.default=_default;